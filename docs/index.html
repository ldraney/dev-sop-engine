<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>dev-sop-engine - Configuration-driven Claude Code setup</title>
  <meta name="description" content="Define your Claude Code configuration in one JSON file. Generate .claude/ and .mcp.json everywhere.">
  <style>
    body { font-family: system-ui, sans-serif; max-width: 800px; margin: 2rem auto; padding: 0 1rem; line-height: 1.6; color: #1a1a1a; }
    h1, h2, h3 { margin-top: 2rem; }
    pre { background: #f4f4f4; padding: 1rem; overflow-x: auto; border-radius: 4px; }
    code { background: #f4f4f4; padding: 0.2rem 0.4rem; border-radius: 2px; }
    a { color: #0066cc; }
    .nav { margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 1px solid #ddd; }
    .nav a { margin-right: 1rem; text-decoration: none; }
    .hero { text-align: center; padding: 2rem 0; }
    .hero h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
    .hero p { font-size: 1.2rem; color: #555; }
    .badge { display: inline-block; background: #fff3cd; color: #856404; padding: 0.3rem 0.8rem; border-radius: 4px; font-size: 0.85rem; font-weight: 600; margin-top: 0.5rem; }
    .install { background: #1a1a2e; color: #eee; padding: 1rem; border-radius: 4px; font-family: monospace; text-align: center; font-size: 1.1rem; }
    .features { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin: 2rem 0; }
    .feature { padding: 1rem; border: 1px solid #ddd; border-radius: 4px; }
    .feature h3 { margin-top: 0; }
    .cta-group { text-align: center; margin: 2.5rem 0; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
    .cta-group a { padding: 0.75rem 1.5rem; border-radius: 4px; text-decoration: none; font-weight: 600; }
    .cta-primary { background: #0066cc; color: white; }
    .cta-primary:hover { background: #0055aa; }
    .cta-secondary { background: white; color: #0066cc; border: 2px solid #0066cc; }
    .cta-secondary:hover { background: #f0f7ff; }
    .callout { background: #f0f7ff; border: 1px solid #b3d4fc; border-radius: 4px; padding: 1rem 1.5rem; margin: 2rem 0; }
    .callout h3 { margin-top: 0; color: #0066cc; }
    footer { margin-top: 3rem; padding-top: 1.5rem; border-top: 1px solid #ddd; text-align: center; color: #666; font-size: 0.9rem; }
  </style>
</head>
<body>
  <nav class="nav">
    <a href="index.html"><strong>Home</strong></a>
    <a href="architecture.html">Architecture</a>
    <a href="user-story.html">User Stories</a>
    <a href="roadmap.html">Roadmap</a>
  </nav>

  <div class="hero">
    <h1>dev-sop-engine</h1>
    <p>Configuration-driven Claude Code setup.<br>Define once in JSON. Generate everywhere.</p>
    <span class="badge">Early Access &mdash; Feedback Welcome</span>
  </div>

  <div class="install">
    npx dev-sop-engine .
  </div>

  <h2>The Problem</h2>
  <p>Claude Code configuration is scattered across multiple files: <code>settings.json</code>, <code>CLAUDE.md</code>, skill files, agent prompts, hook scripts, MCP configs. When you want to share or replicate a setup, you're copying a dozen files and hoping nothing breaks.</p>

  <h2>The Solution</h2>
  <p>Define everything in one <code>sop.json</code> file. Run the generator. Get a complete, portable <code>.claude/</code> directory and <code>.mcp.json</code>.</p>

  <pre>
sop/sop.json (your config)
    &darr;
npx dev-sop-engine .
    &darr;
.claude/ + .mcp.json (generated, portable)
  </pre>

  <div class="features">
    <div class="feature">
      <h3>Rules</h3>
      <p>Hook-based validators that enforce your standards. Block commits to main, require issue numbers, enforce lint on save.</p>
    </div>
    <div class="feature">
      <h3>Skills</h3>
      <p>Reusable context files invoked with <code>/skill-name</code>. Define workflows, templates, guidelines.</p>
    </div>
    <div class="feature">
      <h3>Agents</h3>
      <p>Specialized sub-agents for the Task tool. Auto-discovered with proper YAML frontmatter.</p>
    </div>
    <div class="feature">
      <h3>MCP Servers</h3>
      <p>Define MCP servers in one place. Smart merge preserves any servers you add manually.</p>
    </div>
  </div>

  <div class="cta-group">
    <a class="cta-primary" href="https://github.com/ldraney/dev-sop-engine">View on GitHub</a>
    <a class="cta-secondary" href="https://github.com/ldraney/dev-sop-engine/issues">Give Feedback</a>
  </div>

  <h2>Quick Start</h2>
  <ol>
    <li>Create a <code>sop/</code> directory in your project with a <code>sop.json</code> config file</li>
    <li>Add your skills, agents, rules, and MCP server definitions</li>
    <li>Run <code>npx dev-sop-engine .</code> to generate <code>.claude/</code> and <code>.mcp.json</code></li>
  </ol>
  <p><em>Coming soon: <code>npx dev-sop-engine init</code> to scaffold a starter config automatically.</em></p>

  <h2>Example: sop.json</h2>
  <pre>
{
  "version": "1.0",
  "enforcement": "hard",

  "rules": {
    "no-main-commit": {
      "description": "Block commits on main branch",
      "events": ["PreToolUse"],
      "matcher": "Bash",
      "condition": "git.*commit",
      "validator": "validators/no-main-commit.sh"
    }
  },

  "skills": {
    "workflow": {
      "description": "Development workflow guidelines",
      "content_file": "./skills/workflow.md"
    }
  },

  "agents": {
    "code-reviewer": {
      "description": "Reviews code for quality and security",
      "prompt_file": "./agents/reviewer.md",
      "tools": ["Read", "Glob", "Grep"]
    }
  }
}
  </pre>

  <h2>Also Runs as MCP Server</h2>
  <p>The engine exposes <code>sop_generate</code> as an MCP tool, so any Claude Code session can generate <code>.claude/</code> for a target directory without the CLI.</p>

  <h2>Source vs Generated</h2>
  <pre>
project/
├── sop/                  # Source of truth (edit these)
│   ├── sop.json          # Configuration
│   ├── validators/       # Rule scripts
│   ├── skills/           # Skill content files
│   └── agents/           # Agent prompt files
│
├── .claude/              # GENERATED (don't edit)
│   ├── settings.json
│   ├── hooks/
│   ├── skills/
│   └── agents/
│
└── .mcp.json             # GENERATED
  </pre>

  <h2>Philosophy</h2>
  <p><strong>Project Law</strong>: Codify your team's standards into enforceable rules. No more "we should remember to..." &mdash; the engine remembers for you.</p>
  <ul>
    <li><strong>Issue-first development</strong> &mdash; Require GitHub issues before code changes</li>
    <li><strong>Branch protection</strong> &mdash; Block commits on main, require feature branches</li>
    <li><strong>Assumption validation</strong> &mdash; Spikes before implementation for unknowns</li>
    <li><strong>Small PRs</strong> &mdash; Keep changes focused and reviewable</li>
  </ul>

  <div class="callout">
    <h3>Looking for Feedback</h3>
    <p>This project is in early access. If you're using Claude Code and have opinions on how team configuration should work, <a href="https://github.com/ldraney/dev-sop-engine/issues">open an issue</a> or reach out. Contributions welcome.</p>
  </div>

  <h2>Learn More</h2>
  <ul>
    <li><a href="architecture.html">Architecture</a> &mdash; How it works under the hood</li>
    <li><a href="user-story.html">User Stories</a> &mdash; Who this is for</li>
    <li><a href="roadmap.html">Roadmap</a> &mdash; What's coming next</li>
  </ul>

  <footer>
    <p>Built with Claude Code. <a href="https://github.com/ldraney/dev-sop-engine">GitHub</a></p>
  </footer>

</body>
</html>
